Script started on 2023-05-31 19:38:35+03:00 [TERM="xterm-256color" TTY="/dev/pts/0" COLUMNS="158" LINES="36"]
]0;student@student-Mi-Laptop-Air-12-5: /media/student/Linux/otus/lesson17[01;32mstudent@student-Mi-Laptop-Air-12-5[00m:[01;34m/media/student/Linux/otus/lesson17[00m$ git clone https://github.com/mbfx/otus-linux-adm.git

Command 'git' not found, but can be installed with:

sudo apt install git

]0;student@student-Mi-Laptop-Air-12-5: /media/student/Linux/otus/lesson17[01;32mstudent@student-Mi-Laptop-Air-12-5[00m:[01;34m/media/student/Linux/otus/lesson17[00m$ sudo apt git[K[K[Kinstall git
[sudo] password for student: 
Reading package lists... 0%Reading package lists... 100%Reading package lists... Done
Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree       
Reading state information... 0%Reading state information... 0%Reading state information... Done
The following additional packages will be installed:
  git-man liberror-perl
Suggested packages:
  git-daemon-run | git-daemon-sysvinit git-doc git-el git-email git-gui gitk gitweb git-cvs git-mediawiki git-svn
The following NEW packages will be installed:
  git git-man liberror-perl
0 upgraded, 3 newly installed, 0 to remove and 10 not upgraded.
Need to get 5â€¯518 kB of archives.
After this operation, 38,7 MB of additional disk space will be used.
Do you want to continue? [Y/n] y
[33m0% [Working][0m            Get:1 http://archive.ubuntu.com/ubuntu focal/main amd64 liberror-perl all 0.17029-1 [26,5 kB]
[33m0% [1 liberror-perl 14,2 kB/26,5 kB 54%][0m[33m                                        7% [Working][0m            Get:2 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 git-man all 1:2.25.1-1ubuntu3.11 [887 kB]
[33m7% [2 git-man 2â€¯613 B/887 kB 0%][0m[33m                                  10% [2 git-man 207 kB/887 kB 23%][0m[33m15% [2 git-man 549 kB/887 kB 62%][0m[33m18% [2 git-man 750 kB/887 kB 85%][0m[33m                                 27% [Waiting for headers][0m                         Get:3 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 git amd64 1:2.25.1-1ubuntu3.11 [4â€¯605 kB]
[33m27% [3 git 1â€¯924 B/4â€¯605 kB 0%][0m[33m                                   29% [3 git 198 kB/4â€¯605 kB 4%][0m[33m34% [3 git 493 kB/4â€¯605 kB 11%][0m[33m36% [3 git 654 kB/4â€¯605 kB 14%][0m[33m40% [3 git 935 kB/4â€¯605 kB 20%][0m[33m44% [3 git 1â€¯196 kB/4â€¯605 kB 26%][0m[33m50% [3 git 1â€¯620 kB/4â€¯605 kB 35%][0m[33m55% [3 git 1â€¯963 kB/4â€¯605 kB 43%][0m[33m60% [3 git 2â€¯283 kB/4â€¯605 kB 50%]                                                                                                             515 kB/s 4s[0m[33m63% [3 git 2â€¯505 kB/4â€¯605 kB 54%]                                                                                                             515 kB/s 4s[0m[33m67% [3 git 2â€¯774 kB/4â€¯605 kB 60%]                                                                                                             515 kB/s 3s[0m[33m71% [3 git 3â€¯038 kB/4â€¯605 kB 66%]                                                                                                             515 kB/s 3s[0m[33m74% [3 git 3â€¯246 kB/4â€¯605 kB 70%]                                                                                                             515 kB/s 2s[0m[33m77% [3 git 3â€¯494 kB/4â€¯605 kB 76%]                                                                                                             515 kB/s 2s[0m[33m81% [3 git 3â€¯743 kB/4â€¯605 kB 81%]                                                                                                             515 kB/s 1s[0m[33m86% [3 git 4â€¯069 kB/4â€¯605 kB 88%]                                                                                                             515 kB/s 1s[0m[33m88% [3 git 4â€¯261 kB/4â€¯605 kB 93%]                                                                                                             515 kB/s 0s[0m[33m91% [3 git 4â€¯433 kB/4â€¯605 kB 96%]                                                                                                             515 kB/s 0s[0m[33m100% [Working]                                                                                                                                    515 kB/s 0s[0m                                                                                                                                                             Fetched 5â€¯518 kB in 11s (496 kB/s)

7[0;35r8[1ASelecting previously unselected package liberror-perl.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 245895 files and directories currently installed.)
Preparing to unpack .../liberror-perl_0.17029-1_all.deb ...
7[36;0f[42m[30mProgress: [  0%][49m[39m [........................................................................................................................................] 87[36;0f[42m[30mProgress: [  8%][49m[39m [##########..............................................................................................................................] 8Unpacking liberror-perl (0.17029-1) ...
7[36;0f[42m[30mProgress: [ 15%][49m[39m [####################....................................................................................................................] 8Selecting previously unselected package git-man.
Preparing to unpack .../git-man_1%3a2.25.1-1ubuntu3.11_all.deb ...
7[36;0f[42m[30mProgress: [ 23%][49m[39m [###############################.........................................................................................................] 8Unpacking git-man (1:2.25.1-1ubuntu3.11) ...
7[36;0f[42m[30mProgress: [ 31%][49m[39m [#########################################...............................................................................................] 8Selecting previously unselected package git.
Preparing to unpack .../git_1%3a2.25.1-1ubuntu3.11_amd64.deb ...
7[36;0f[42m[30mProgress: [ 38%][49m[39m [####################################################....................................................................................] 8Unpacking git (1:2.25.1-1ubuntu3.11) ...
7[36;0f[42m[30mProgress: [ 46%][49m[39m [##############################################################..........................................................................] 8Setting up liberror-perl (0.17029-1) ...
7[36;0f[42m[30mProgress: [ 54%][49m[39m [#########################################################################...............................................................] 87[36;0f[42m[30mProgress: [ 62%][49m[39m [###################################################################################.....................................................] 8Setting up git-man (1:2.25.1-1ubuntu3.11) ...
7[36;0f[42m[30mProgress: [ 69%][49m[39m [##############################################################################################..........................................] 87[36;0f[42m[30mProgress: [ 77%][49m[39m [########################################################################################################................................] 8Setting up git (1:2.25.1-1ubuntu3.11) ...
7[36;0f[42m[30mProgress: [ 85%][49m[39m [###################################################################################################################.....................] 87[36;0f[42m[30mProgress: [ 92%][49m[39m [#############################################################################################################################...........] 8Processing triggers for man-db (2.9.1-1) ...

7[0;36r8[1A[J]0;student@student-Mi-Laptop-Air-12-5: /media/student/Linux/otus/lesson17[01;32mstudent@student-Mi-Laptop-Air-12-5[00m:[01;34m/media/student/Linux/otus/lesson17[00m$ sudo apt install gitgit clone https://github.com/mbfx/otus-linux-adm.git
Cloning into 'otus-linux-adm'...
remote: Enumerating objects: 558, done.[K
remote: Counting objects:   0% (1/456)[Kremote: Counting objects:   1% (5/456)[Kremote: Counting objects:   2% (10/456)[Kremote: Counting objects:   3% (14/456)[Kremote: Counting objects:   4% (19/456)[Kremote: Counting objects:   5% (23/456)[Kremote: Counting objects:   6% (28/456)[Kremote: Counting objects:   7% (32/456)[Kremote: Counting objects:   8% (37/456)[Kremote: Counting objects:   9% (42/456)[Kremote: Counting objects:  10% (46/456)[Kremote: Counting objects:  11% (51/456)[Kremote: Counting objects:  12% (55/456)[Kremote: Counting objects:  13% (60/456)[Kremote: Counting objects:  14% (64/456)[Kremote: Counting objects:  15% (69/456)[Kremote: Counting objects:  16% (73/456)[Kremote: Counting objects:  17% (78/456)[Kremote: Counting objects:  18% (83/456)[Kremote: Counting objects:  19% (87/456)[Kremote: Counting objects:  20% (92/456)[Kremote: Counting objects:  21% (96/456)[Kremote: Counting objects:  22% (101/456)[Kremote: Counting objects:  23% (105/456)[Kremote: Counting objects:  24% (110/456)[Kremote: Counting objects:  25% (114/456)[Kremote: Counting objects:  26% (119/456)[Kremote: Counting objects:  27% (124/456)[Kremote: Counting objects:  28% (128/456)[Kremote: Counting objects:  29% (133/456)[Kremote: Counting objects:  30% (137/456)[Kremote: Counting objects:  31% (142/456)[Kremote: Counting objects:  32% (146/456)[Kremote: Counting objects:  33% (151/456)[Kremote: Counting objects:  34% (156/456)[Kremote: Counting objects:  35% (160/456)[Kremote: Counting objects:  36% (165/456)[Kremote: Counting objects:  37% (169/456)[Kremote: Counting objects:  38% (174/456)[Kremote: Counting objects:  39% (178/456)[Kremote: Counting objects:  40% (183/456)[Kremote: Counting objects:  41% (187/456)[Kremote: Counting objects:  42% (192/456)[Kremote: Counting objects:  43% (197/456)[Kremote: Counting objects:  44% (201/456)[Kremote: Counting objects:  45% (206/456)[Kremote: Counting objects:  46% (210/456)[Kremote: Counting objects:  47% (215/456)[Kremote: Counting objects:  48% (219/456)[Kremote: Counting objects:  49% (224/456)[Kremote: Counting objects:  50% (228/456)[Kremote: Counting objects:  51% (233/456)[Kremote: Counting objects:  52% (238/456)[Kremote: Counting objects:  53% (242/456)[Kremote: Counting objects:  54% (247/456)[Kremote: Counting objects:  55% (251/456)[Kremote: Counting objects:  56% (256/456)[Kremote: Counting objects:  57% (260/456)[Kremote: Counting objects:  58% (265/456)[Kremote: Counting objects:  59% (270/456)[Kremote: Counting objects:  60% (274/456)[Kremote: Counting objects:  61% (279/456)[Kremote: Counting objects:  62% (283/456)[Kremote: Counting objects:  63% (288/456)[Kremote: Counting objects:  64% (292/456)[Kremote: Counting objects:  65% (297/456)[Kremote: Counting objects:  66% (301/456)[Kremote: Counting objects:  67% (306/456)[Kremote: Counting objects:  68% (311/456)[Kremote: Counting objects:  69% (315/456)[Kremote: Counting objects:  70% (320/456)[Kremote: Counting objects:  71% (324/456)[Kremote: Counting objects:  72% (329/456)[Kremote: Counting objects:  73% (333/456)[Kremote: Counting objects:  74% (338/456)[Kremote: Counting objects:  75% (342/456)[Kremote: Counting objects:  76% (347/456)[Kremote: Counting objects:  77% (352/456)[Kremote: Counting objects:  78% (356/456)[Kremote: Counting objects:  79% (361/456)[Kremote: Counting objects:  80% (365/456)[Kremote: Counting objects:  81% (370/456)[Kremote: Counting objects:  82% (374/456)[Kremote: Counting objects:  83% (379/456)[Kremote: Counting objects:  84% (384/456)[Kremote: Counting objects:  85% (388/456)[Kremote: Counting objects:  86% (393/456)[Kremote: Counting objects:  87% (397/456)[Kremote: Counting objects:  88% (402/456)[Kremote: Counting objects:  89% (406/456)[Kremote: Counting objects:  90% (411/456)[Kremote: Counting objects:  91% (415/456)[Kremote: Counting objects:  92% (420/456)[Kremote: Counting objects:  93% (425/456)[Kremote: Counting objects:  94% (429/456)[Kremote: Counting objects:  95% (434/456)[Kremote: Counting objects:  96% (438/456)[Kremote: Counting objects:  97% (443/456)[Kremote: Counting objects:  98% (447/456)[Kremote: Counting objects:  99% (452/456)[Kremote: Counting objects: 100% (456/456)[Kremote: Counting objects: 100% (456/456), done.[K
remote: Compressing objects:   0% (1/303)[Kremote: Compressing objects:   1% (4/303)[Kremote: Compressing objects:   2% (7/303)[Kremote: Compressing objects:   3% (10/303)[Kremote: Compressing objects:   4% (13/303)[Kremote: Compressing objects:   5% (16/303)[Kremote: Compressing objects:   6% (19/303)[Kremote: Compressing objects:   7% (22/303)[Kremote: Compressing objects:   8% (25/303)[Kremote: Compressing objects:   9% (28/303)[Kremote: Compressing objects:  10% (31/303)[Kremote: Compressing objects:  11% (34/303)[Kremote: Compressing objects:  12% (37/303)[Kremote: Compressing objects:  13% (40/303)[Kremote: Compressing objects:  14% (43/303)[Kremote: Compressing objects:  15% (46/303)[Kremote: Compressing objects:  16% (49/303)[Kremote: Compressing objects:  17% (52/303)[Kremote: Compressing objects:  18% (55/303)[Kremote: Compressing objects:  19% (58/303)[Kremote: Compressing objects:  20% (61/303)[Kremote: Compressing objects:  21% (64/303)[Kremote: Compressing objects:  22% (67/303)[Kremote: Compressing objects:  23% (70/303)[Kremote: Compressing objects:  24% (73/303)[Kremote: Compressing objects:  25% (76/303)[Kremote: Compressing objects:  26% (79/303)[Kremote: Compressing objects:  27% (82/303)[Kremote: Compressing objects:  28% (85/303)[Kremote: Compressing objects:  29% (88/303)[Kremote: Compressing objects:  30% (91/303)[Kremote: Compressing objects:  31% (94/303)[Kremote: Compressing objects:  32% (97/303)[Kremote: Compressing objects:  33% (100/303)[Kremote: Compressing objects:  34% (104/303)[Kremote: Compressing objects:  35% (107/303)[Kremote: Compressing objects:  36% (110/303)[Kremote: Compressing objects:  37% (113/303)[Kremote: Compressing objects:  38% (116/303)[Kremote: Compressing objects:  39% (119/303)[Kremote: Compressing objects:  40% (122/303)[Kremote: Compressing objects:  41% (125/303)[Kremote: Compressing objects:  42% (128/303)[Kremote: Compressing objects:  43% (131/303)[Kremote: Compressing objects:  44% (134/303)[Kremote: Compressing objects:  45% (137/303)[Kremote: Compressing objects:  46% (140/303)[Kremote: Compressing objects:  47% (143/303)[Kremote: Compressing objects:  48% (146/303)[Kremote: Compressing objects:  49% (149/303)[Kremote: Compressing objects:  50% (152/303)[Kremote: Compressing objects:  51% (155/303)[Kremote: Compressing objects:  52% (158/303)[Kremote: Compressing objects:  53% (161/303)[Kremote: Compressing objects:  54% (164/303)[Kremote: Compressing objects:  55% (167/303)[Kremote: Compressing objects:  56% (170/303)[Kremote: Compressing objects:  57% (173/303)[Kremote: Compressing objects:  58% (176/303)[Kremote: Compressing objects:  59% (179/303)[Kremote: Compressing objects:  60% (182/303)[Kremote: Compressing objects:  61% (185/303)[Kremote: Compressing objects:  62% (188/303)[Kremote: Compressing objects:  63% (191/303)[Kremote: Compressing objects:  64% (194/303)[Kremote: Compressing objects:  65% (197/303)[Kremote: Compressing objects:  66% (200/303)[Kremote: Compressing objects:  67% (204/303)[Kremote: Compressing objects:  68% (207/303)[Kremote: Compressing objects:  69% (210/303)[Kremote: Compressing objects:  70% (213/303)[Kremote: Compressing objects:  71% (216/303)[Kremote: Compressing objects:  72% (219/303)[Kremote: Compressing objects:  73% (222/303)[Kremote: Compressing objects:  74% (225/303)[Kremote: Compressing objects:  75% (228/303)[Kremote: Compressing objects:  76% (231/303)[Kremote: Compressing objects:  77% (234/303)[Kremote: Compressing objects:  78% (237/303)[Kremote: Compressing objects:  79% (240/303)[Kremote: Compressing objects:  80% (243/303)[Kremote: Compressing objects:  81% (246/303)[Kremote: Compressing objects:  82% (249/303)[Kremote: Compressing objects:  83% (252/303)[Kremote: Compressing objects:  84% (255/303)[Kremote: Compressing objects:  85% (258/303)[Kremote: Compressing objects:  86% (261/303)[Kremote: Compressing objects:  87% (264/303)[Kremote: Compressing objects:  88% (267/303)[Kremote: Compressing objects:  89% (270/303)[Kremote: Compressing objects:  90% (273/303)[Kremote: Compressing objects:  91% (276/303)[Kremote: Compressing objects:  92% (279/303)[Kremote: Compressing objects:  93% (282/303)[Kremote: Compressing objects:  94% (285/303)[Kremote: Compressing objects:  95% (288/303)[Kremote: Compressing objects:  96% (291/303)[Kremote: Compressing objects:  97% (294/303)[Kremote: Compressing objects:  98% (297/303)[Kremote: Compressing objects:  99% (300/303)[Kremote: Compressing objects: 100% (303/303)[Kremote: Compressing objects: 100% (303/303), done.[K
Receiving objects:   0% (1/558)Receiving objects:   1% (6/558)Receiving objects:   2% (12/558)Receiving objects:   3% (17/558)Receiving objects:   4% (23/558)Receiving objects:   5% (28/558)Receiving objects:   6% (34/558)Receiving objects:   7% (40/558)Receiving objects:   8% (45/558)Receiving objects:   9% (51/558)Receiving objects:  10% (56/558)Receiving objects:  11% (62/558)Receiving objects:  12% (67/558)Receiving objects:  13% (73/558)Receiving objects:  14% (79/558)Receiving objects:  15% (84/558)Receiving objects:  16% (90/558)Receiving objects:  17% (95/558)Receiving objects:  18% (101/558)Receiving objects:  19% (107/558)Receiving objects:  20% (112/558)Receiving objects:  21% (118/558)Receiving objects:  22% (123/558)Receiving objects:  23% (129/558)Receiving objects:  24% (134/558)Receiving objects:  25% (140/558)Receiving objects:  26% (146/558)Receiving objects:  27% (151/558)Receiving objects:  28% (157/558)Receiving objects:  29% (162/558)Receiving objects:  30% (168/558)Receiving objects:  31% (173/558)Receiving objects:  32% (179/558)Receiving objects:  33% (185/558)Receiving objects:  34% (190/558)Receiving objects:  35% (196/558)Receiving objects:  36% (201/558)Receiving objects:  37% (207/558)Receiving objects:  38% (213/558)Receiving objects:  39% (218/558)Receiving objects:  40% (224/558)Receiving objects:  41% (229/558)Receiving objects:  42% (235/558)Receiving objects:  43% (240/558)Receiving objects:  44% (246/558)Receiving objects:  45% (252/558)Receiving objects:  46% (257/558)Receiving objects:  47% (263/558)Receiving objects:  48% (268/558)Receiving objects:  49% (274/558)Receiving objects:  50% (279/558)Receiving objects:  51% (285/558)Receiving objects:  52% (291/558)Receiving objects:  53% (296/558)Receiving objects:  54% (302/558)Receiving objects:  55% (307/558)Receiving objects:  56% (313/558)Receiving objects:  57% (319/558)Receiving objects:  58% (324/558)Receiving objects:  59% (330/558)Receiving objects:  60% (335/558)Receiving objects:  61% (341/558)Receiving objects:  62% (346/558)Receiving objects:  63% (352/558)Receiving objects:  64% (358/558)Receiving objects:  65% (363/558)Receiving objects:  66% (369/558)Receiving objects:  67% (374/558)Receiving objects:  68% (380/558)Receiving objects:  69% (386/558)Receiving objects:  70% (391/558)Receiving objects:  71% (397/558)Receiving objects:  72% (402/558)Receiving objects:  73% (408/558)Receiving objects:  74% (413/558)Receiving objects:  75% (419/558)Receiving objects:  76% (425/558)Receiving objects:  77% (430/558)Receiving objects:  78% (436/558)Receiving objects:  79% (441/558)Receiving objects:  80% (447/558)Receiving objects:  81% (452/558)Receiving objects:  82% (458/558)Receiving objects:  83% (464/558)Receiving objects:  84% (469/558)Receiving objects:  85% (475/558)Receiving objects:  86% (480/558)Receiving objects:  87% (486/558)remote: Total 558 (delta 125), reused 396 (delta 74), pack-reused 102[K
Receiving objects:  88% (492/558)Receiving objects:  89% (497/558)Receiving objects:  90% (503/558)Receiving objects:  91% (508/558)Receiving objects:  92% (514/558)Receiving objects:  93% (519/558)Receiving objects:  94% (525/558)Receiving objects:  95% (531/558)Receiving objects:  96% (536/558)Receiving objects:  97% (542/558)Receiving objects:  98% (547/558)Receiving objects:  99% (553/558)Receiving objects: 100% (558/558)Receiving objects: 100% (558/558), 1.38 MiB | 3.23 MiB/s, done.
Resolving deltas:   0% (0/140)Resolving deltas:   2% (3/140)Resolving deltas:   3% (5/140)Resolving deltas:   4% (6/140)Resolving deltas:   5% (7/140)Resolving deltas:   6% (9/140)Resolving deltas:   9% (13/140)Resolving deltas:  10% (14/140)Resolving deltas:  18% (26/140)Resolving deltas:  19% (27/140)Resolving deltas:  25% (35/140)Resolving deltas:  30% (42/140)Resolving deltas:  31% (44/140)Resolving deltas:  37% (53/140)Resolving deltas:  39% (55/140)Resolving deltas:  40% (57/140)Resolving deltas:  43% (61/140)Resolving deltas:  45% (64/140)Resolving deltas:  46% (65/140)Resolving deltas:  47% (66/140)Resolving deltas:  48% (68/140)Resolving deltas:  49% (69/140)Resolving deltas:  50% (71/140)Resolving deltas:  51% (72/140)Resolving deltas:  52% (73/140)Resolving deltas:  53% (75/140)Resolving deltas:  54% (76/140)Resolving deltas:  57% (80/140)Resolving deltas:  60% (85/140)Resolving deltas:  62% (88/140)Resolving deltas:  70% (99/140)Resolving deltas:  71% (100/140)Resolving deltas:  75% (105/140)Resolving deltas:  76% (107/140)Resolving deltas:  79% (111/140)Resolving deltas:  80% (112/140)Resolving deltas:  93% (131/140)Resolving deltas:  95% (134/140)Resolving deltas: 100% (140/140)Resolving deltas: 100% (140/140), done.
]0;student@student-Mi-Laptop-Air-12-5: /media/student/Linux/otus/lesson17[01;32mstudent@student-Mi-Laptop-Air-12-5[00m:[01;34m/media/student/Linux/otus/lesson17[00m$ ls -l
total 1068
drwxrwxr-x 12 student student   4096 Ð¼Ð°Ñ 31 19:39 [0m[01;34motus-linux-adm[0m
-rw-rw-r--  1 student student  69198 Ð¼Ð°Ñ 31 18:57 part1.txt
-rw-rw-r--  1 student student  20480 Ð¼Ð°Ñ 31 19:39 part2.txt
-rw-r--r--  1 student student   2208 Ð¼Ð°Ñ 19 11:55 selinux_commands.sh
-rw-r--r--  1 student student 985212 Ð¼Ð°Ñ 19 11:55 SELinux.pdf
-rw-rw-r--  1 student student   1205 Ð¼Ð°Ñ 30 19:05 Vagrantfile
]0;student@student-Mi-Laptop-Air-12-5: /media/student/Linux/otus/lesson17[01;32mstudent@student-Mi-Laptop-Air-12-5[00m:[01;34m/media/student/Linux/otus/lesson17[00m$ cd otus-linux-adm/
dhcp_dns_demo/             dynamic_routing_demo/      .git/                      selinux_dns_problems/      vpn_tunnels_demo/
drbd_stand_demo/           dynamic_routing_guideline/ pacemaker_vbox_stand_demo/ terraform-proxmox/         vpn_tunnels_demo_2/
]0;student@student-Mi-Laptop-Air-12-5: /media/student/Linux/otus/lesson17[01;32mstudent@student-Mi-Laptop-Air-12-5[00m:[01;34m/media/student/Linux/otus/lesson17[00m$ cd otus-linux-adm/selinux_dns_problems/
]0;student@student-Mi-Laptop-Air-12-5: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[01;32mstudent@student-Mi-Laptop-Air-12-5[00m:[01;34m/media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[00m$ ls -l
total 12
drwxrwxr-x 3 student student 4096 Ð¼Ð°Ñ 31 19:39 [0m[01;34mprovisioning[0m
-rwxrwxr-x 1 student student 1931 Ð¼Ð°Ñ 31 19:39 [01;32mREADME.md[0m
-rwxrwxr-x 1 student student  663 Ð¼Ð°Ñ 31 19:39 [01;32mVagrantfile[0m
]0;student@student-Mi-Laptop-Air-12-5: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[01;32mstudent@student-Mi-Laptop-Air-12-5[00m:[01;34m/media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[00m$ vagrant up
[0mBringing machine 'ns01' up with 'virtualbox' provider...[0m
[0mBringing machine 'client' up with 'virtualbox' provider...[0m
[1m==> ns01: Importing base box 'centos/7'...[0m
[0m[K[0m[0mProgress: 20%[0m[0m[K[0m[0mProgress: 40%[0m[0m[K[0m[0mProgress: 70%[0m[0m[K[0m[0mProgress: 90%[0m[0m[K[0m[1m==> ns01: Matching MAC address for NAT networking...[0m
[1m==> ns01: Checking if box 'centos/7' version '2004.01' is up to date...[0m
[1m==> ns01: Setting the name of the VM: selinux_dns_problems_ns01_1685551228785_78466[0m
[1m==> ns01: Fixed port collision for 22 => 2222. Now on port 2200.[0m
[1m==> ns01: Clearing any previously set network interfaces...[0m
[1m==> ns01: Preparing network interfaces based on configuration...[0m
[0m    ns01: Adapter 1: nat[0m
[0m    ns01: Adapter 2: intnet[0m
[1m==> ns01: Forwarding ports...[0m
[0m    ns01: 22 (guest) => 2200 (host) (adapter 1)[0m
[1m==> ns01: Running 'pre-boot' VM customizations...[0m
[1m==> ns01: Booting VM...[0m
[1m==> ns01: Waiting for machine to boot. This may take a few minutes...[0m
[0m    ns01: SSH address: 127.0.0.1:2200[0m
[0m    ns01: SSH username: vagrant[0m
[0m    ns01: SSH auth method: private key[0m
[0m    ns01: 
    ns01: Vagrant insecure key detected. Vagrant will automatically replace
    ns01: this with a newly generated keypair for better security.[0m
[0m    ns01: 
    ns01: Inserting generated public key within guest...[0m
[0m    ns01: Removing insecure key from the guest if it's present...[0m
[0m    ns01: Key inserted! Disconnecting and reconnecting using new SSH key...[0m
[1m==> ns01: Machine booted and ready![0m
[1m==> ns01: Checking for guest additions in VM...[0m
[0m    ns01: No guest additions were detected on the base box for this VM! Guest
    ns01: additions are required for forwarded ports, shared folders, host only
    ns01: networking, and more. If SSH fails on this machine, please install
    ns01: the guest additions and repackage the box to continue.
    ns01: 
    ns01: This is not an error message; everything may continue to work properly,
    ns01: in which case you may ignore this message.[0m
[1m==> ns01: Setting hostname...[0m
[1m==> ns01: Configuring and enabling network interfaces...[0m
[1m==> ns01: Rsyncing folder: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems/ => /vagrant[0m
[1m==> ns01: Running provisioner: ansible...[0m
[0;33mVagrant has automatically selected the compatibility mode '2.0'
according to the Ansible version installed (2.9.6).

Alternatively, the compatibility mode can be specified in your Vagrantfile:
https://www.vagrantup.com/docs/provisioning/ansible_common.html#compatibility_mode
[0m
[0m    ns01: Running ansible-playbook...[0m
[0m
PLAY [all] *********************************************************************
[0m[0m
TASK [Gathering Facts] *********************************************************
[0m[0m[0;32mok: [ns01][0m
[0;32m[0m[0m[0m
TASK [install packages] ********************************************************
[0m[0m[0;33mchanged: [ns01][0m
[0;33m[0m[0m[0m
PLAY [ns01] ********************************************************************
[0m[0m
TASK [Gathering Facts] *********************************************************
[0m
^C[0m[0;31m [ERROR]: User interrupted execution[0m
[0;31m[0m[0m[1;33m==> ns01: Waiting for cleanup before exiting...[0m
[0;31mAnsible failed to complete successfully. Any error output should be
visible above. Please fix these errors and try again.[0m
]0;student@student-Mi-Laptop-Air-12-5: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[01;32mstudent@student-Mi-Laptop-Air-12-5[00m:[01;34m/media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[00m$ vagrant up
[0mBringing machine 'ns01' up with 'virtualbox' provider...[0m
[0mBringing machine 'client' up with 'virtualbox' provider...[0m
[1m==> ns01: Checking if box 'centos/7' version '2004.01' is up to date...[0m
[1;33m==> ns01: There was a problem while downloading the metadata for your box
==> ns01: to check for updates. This is not an error, since it is usually due
==> ns01: to temporary network problems. This is just a warning. The problem
==> ns01: encountered was:
==> ns01: 
==> ns01: The requested URL returned error: 404 Not Found
==> ns01: 
==> ns01: If you want to check for box updates, verify your network connection
==> ns01: is valid and try again.[0m
[1m==> ns01: Machine already provisioned. Run `vagrant provision` or use the `--provision`
==> ns01: flag to force provisioning. Provisioners marked to run always will still run.[0m
[1m==> client: Importing base box 'centos/7'...[0m
[0m[K[0m[0mProgress: 20%[0m[0m[K[0m[0mProgress: 40%[0m[0m[K[0m[0mProgress: 70%[0m[0m[K[0m[0mProgress: 90%[0m[0m[K[0m[1m==> client: Matching MAC address for NAT networking...[0m
[1m==> client: Checking if box 'centos/7' version '2004.01' is up to date...[0m
[1m==> client: Setting the name of the VM: selinux_dns_problems_client_1685551981831_63060[0m
[1m==> client: Fixed port collision for 22 => 2222. Now on port 2201.[0m
[1m==> client: Clearing any previously set network interfaces...[0m
[1m==> client: Preparing network interfaces based on configuration...[0m
[0m    client: Adapter 1: nat[0m
[0m    client: Adapter 2: intnet[0m
[1m==> client: Forwarding ports...[0m
[0m    client: 22 (guest) => 2201 (host) (adapter 1)[0m
[1m==> client: Running 'pre-boot' VM customizations...[0m
[1m==> client: Booting VM...[0m
[1m==> client: Waiting for machine to boot. This may take a few minutes...[0m
[0m    client: SSH address: 127.0.0.1:2201[0m
[0m    client: SSH username: vagrant[0m
[0m    client: SSH auth method: private key[0m
[0m    client: Warning: Remote connection disconnect. Retrying...[0m
[0m    client: Warning: Connection reset. Retrying...[0m
[0m    client: Warning: Connection reset. Retrying...[0m
[0m    client: Warning: Remote connection disconnect. Retrying...[0m
[0m    client: Warning: Connection reset. Retrying...[0m
[0m    client: Warning: Remote connection disconnect. Retrying...[0m
[0m    client: 
    client: Vagrant insecure key detected. Vagrant will automatically replace
    client: this with a newly generated keypair for better security.[0m
[0m    client: 
    client: Inserting generated public key within guest...[0m
[0m    client: Removing insecure key from the guest if it's present...[0m
[0m    client: Key inserted! Disconnecting and reconnecting using new SSH key...[0m
[1m==> client: Machine booted and ready![0m
[1m==> client: Checking for guest additions in VM...[0m
[0m    client: No guest additions were detected on the base box for this VM! Guest
    client: additions are required for forwarded ports, shared folders, host only
    client: networking, and more. If SSH fails on this machine, please install
    client: the guest additions and repackage the box to continue.
    client: 
    client: This is not an error message; everything may continue to work properly,
    client: in which case you may ignore this message.[0m
[1m==> client: Setting hostname...[0m
[1m==> client: Configuring and enabling network interfaces...[0m
[1m==> client: Rsyncing folder: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems/ => /vagrant[0m
[1m==> client: Running provisioner: ansible...[0m
[0;33mVagrant has automatically selected the compatibility mode '2.0'
according to the Ansible version installed (2.9.6).

Alternatively, the compatibility mode can be specified in your Vagrantfile:
https://www.vagrantup.com/docs/provisioning/ansible_common.html#compatibility_mode
[0m
[0m    client: Running ansible-playbook...[0m
[0m
PLAY [all] *********************************************************************
[0m[0m
TASK [Gathering Facts] *********************************************************
[0m[0m[0;32mok: [client][0m
[0;32m[0m[0m[0m
TASK [install packages] ********************************************************
[0m[0m[0;33mchanged: [client][0m
[0;33m[0m[0m[0m
PLAY [ns01] ********************************************************************
[0m[0m[0;36mskipping: no hosts matched[0m
[0;36m[0m[0m[0m
PLAY [client] ******************************************************************
[0m[0m
TASK [Gathering Facts] *********************************************************
[0m^C[0m[0;31m [ERROR]: User interrupted execution[0m
[0;31m[0m[0m[1;33m==> client: Waiting for cleanup before exiting...[0m
[0;31mAnsible failed to complete successfully. Any error output should be
visible above. Please fix these errors and try again.[0m
]0;student@student-Mi-Laptop-Air-12-5: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[01;32mstudent@student-Mi-Laptop-Air-12-5[00m:[01;34m/media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[00m$ vagrant up[K[Kdestroy 
[0m    client: Are you sure you want to destroy the 'client' VM? [y/N] [0mY
[1m==> client: Forcing shutdown of VM...[0m
[1m==> client: Destroying VM and associated drives...[0m
[0m    ns01: Are you sure you want to destroy the 'ns01' VM? [y/N] [0mY
[1m==> ns01: Forcing shutdown of VM...[0m
[1m==> ns01: Destroying VM and associated drives...[0m
]0;student@student-Mi-Laptop-Air-12-5: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[01;32mstudent@student-Mi-Laptop-Air-12-5[00m:[01;34m/media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[00m$ vagrant destroy up[K
[0mBringing machine 'ns01' up with 'virtualbox' provider...[0m
[0mBringing machine 'client' up with 'virtualbox' provider...[0m
[1m==> ns01: Importing base box 'centos/7'...[0m
[0m[K[0m[0mProgress: 20%[0m[0m[K[0m[0mProgress: 40%[0m[0m[K[0m[0mProgress: 70%[0m[0m[K[0m[0mProgress: 90%[0m[0m[K[0m[1m==> ns01: Matching MAC address for NAT networking...[0m
[1m==> ns01: Checking if box 'centos/7' version '2004.01' is up to date...[0m
[1m==> ns01: Setting the name of the VM: selinux_dns_problems_ns01_1685552757803_13902[0m
[1m==> ns01: Fixed port collision for 22 => 2222. Now on port 2200.[0m
[1m==> ns01: Clearing any previously set network interfaces...[0m
[1m==> ns01: Preparing network interfaces based on configuration...[0m
[0m    ns01: Adapter 1: nat[0m
[0m    ns01: Adapter 2: intnet[0m
[1m==> ns01: Forwarding ports...[0m
[0m    ns01: 22 (guest) => 2200 (host) (adapter 1)[0m
[1m==> ns01: Running 'pre-boot' VM customizations...[0m
[1m==> ns01: Booting VM...[0m
[1m==> ns01: Waiting for machine to boot. This may take a few minutes...[0m
[0m    ns01: SSH address: 127.0.0.1:2200[0m
[0m    ns01: SSH username: vagrant[0m
[0m    ns01: SSH auth method: private key[0m
[0m    ns01: Warning: Connection reset. Retrying...[0m
[0m    ns01: Warning: Remote connection disconnect. Retrying...[0m
[0m    ns01: Warning: Connection reset. Retrying...[0m
[0m    ns01: Warning: Remote connection disconnect. Retrying...[0m
[0m    ns01: Warning: Remote connection disconnect. Retrying...[0m
[0m    ns01: Warning: Connection reset. Retrying...[0m
[0m    ns01: 
    ns01: Vagrant insecure key detected. Vagrant will automatically replace
    ns01: this with a newly generated keypair for better security.[0m
[0m    ns01: 
    ns01: Inserting generated public key within guest...[0m
[0m    ns01: Removing insecure key from the guest if it's present...[0m
[0m    ns01: Key inserted! Disconnecting and reconnecting using new SSH key...[0m
[1m==> ns01: Machine booted and ready![0m
[1m==> ns01: Checking for guest additions in VM...[0m
[0m    ns01: No guest additions were detected on the base box for this VM! Guest
    ns01: additions are required for forwarded ports, shared folders, host only
    ns01: networking, and more. If SSH fails on this machine, please install
    ns01: the guest additions and repackage the box to continue.
    ns01: 
    ns01: This is not an error message; everything may continue to work properly,
    ns01: in which case you may ignore this message.[0m
[1m==> ns01: Setting hostname...[0m
[1m==> ns01: Configuring and enabling network interfaces...[0m
[1m==> ns01: Rsyncing folder: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems/ => /vagrant[0m
[1m==> ns01: Running provisioner: ansible...[0m
[0;33mVagrant has automatically selected the compatibility mode '2.0'
according to the Ansible version installed (2.9.6).

Alternatively, the compatibility mode can be specified in your Vagrantfile:
https://www.vagrantup.com/docs/provisioning/ansible_common.html#compatibility_mode
[0m
[0m    ns01: Running ansible-playbook...[0m
[0m
PLAY [all] *********************************************************************
[0m[0m
TASK [Gathering Facts] *********************************************************
[0m[0m[0;32mok: [ns01][0m
[0;32m[0m[0m[0m
TASK [install packages] ********************************************************
[0m[0m[0;33mchanged: [ns01][0m
[0;33m[0m[0m[0m
PLAY [ns01] ********************************************************************
[0m[0m
TASK [Gathering Facts] *********************************************************
[0m[0m[0;32mok: [ns01][0m
[0;32m[0m[0m[0m
TASK [copy named.conf] *********************************************************
[0m[0m[0;33mchanged: [ns01][0m
[0;33m[0m[0m[0m
TASK [copy master zone dns.lab] ************************************************
[0m[0m[0;33mchanged: [ns01] => (item=/media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems/provisioning/files/ns01/named.dns.lab)[0m
[0;33m[0m[0m[0m[0;33mchanged: [ns01] => (item=/media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems/provisioning/files/ns01/named.dns.lab.view1)[0m
[0;33m[0m[0m[0m
TASK [copy dynamic zone ddns.lab] **********************************************
[0m[0m[0;33mchanged: [ns01][0m
[0;33m[0m[0m[0m
TASK [copy dynamic zone ddns.lab.view1] ****************************************
[0m[0m[0;33mchanged: [ns01][0m
[0;33m[0m[0m[0m
TASK [copy master zone newdns.lab] *********************************************
[0m[0m[0;33mchanged: [ns01][0m
[0;33m[0m[0m[0m
TASK [copy rev zones] **********************************************************
[0m[0m[0;33mchanged: [ns01][0m
[0;33m[0m[0m[0m
TASK [copy resolv.conf to server] **********************************************
[0m[0m[0;33mchanged: [ns01][0m
[0;33m[0m[0m[0m
TASK [copy transferkey to server] **********************************************
[0m[0m[0;33mchanged: [ns01][0m
[0;33m[0m[0m[0m
TASK [set /etc/named permissions] **********************************************
[0m[0m[0;33mchanged: [ns01][0m
[0;33m[0m[0m[0m
TASK [set /etc/named/dynamic permissions] **************************************
[0m[0m[0;33mchanged: [ns01][0m
[0;33m[0m[0m[0m
TASK [ensure named is running and enabled] *************************************
[0m[0m[0;33mchanged: [ns01][0m
[0;33m[0m[0m[0m[1;35m[WARNING]: Could not match supplied host pattern, ignoring: client[0m
[1;35m[0m[0m[0m
PLAY [client] ******************************************************************
[0;36mskipping: no hosts matched[0m
[0;36m[0m[0m[0m
PLAY RECAP *********************************************************************
[0;33mns01[0m                       : [0;32mok=14  [0m [0;33mchanged=12  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

[0m[1m==> client: Importing base box 'centos/7'...[0m
[0m[K[0m[0mProgress: 20%[0m[0m[K[0m[0mProgress: 40%[0m[0m[K[0m[0mProgress: 70%[0m[0m[K[0m[0mProgress: 90%[0m[0m[K[0m[1m==> client: Matching MAC address for NAT networking...[0m
[1m==> client: Checking if box 'centos/7' version '2004.01' is up to date...[0m
[1m==> client: Setting the name of the VM: selinux_dns_problems_client_1685552911913_82360[0m
[1m==> client: Fixed port collision for 22 => 2222. Now on port 2201.[0m
[1m==> client: Clearing any previously set network interfaces...[0m
[1m==> client: Preparing network interfaces based on configuration...[0m
[0m    client: Adapter 1: nat[0m
[0m    client: Adapter 2: intnet[0m
[1m==> client: Forwarding ports...[0m
[0m    client: 22 (guest) => 2201 (host) (adapter 1)[0m
[1m==> client: Running 'pre-boot' VM customizations...[0m
[1m==> client: Booting VM...[0m
[1m==> client: Waiting for machine to boot. This may take a few minutes...[0m
[0m    client: SSH address: 127.0.0.1:2201[0m
[0m    client: SSH username: vagrant[0m
[0m    client: SSH auth method: private key[0m
[0m    client: Warning: Remote connection disconnect. Retrying...[0m
[0m    client: Warning: Connection reset. Retrying...[0m
[0m    client: Warning: Remote connection disconnect. Retrying...[0m
[0m    client: Warning: Connection reset. Retrying...[0m
[0m    client: Warning: Remote connection disconnect. Retrying...[0m
[0m    client: Warning: Connection reset. Retrying...[0m
[0m    client: 
    client: Vagrant insecure key detected. Vagrant will automatically replace
    client: this with a newly generated keypair for better security.[0m
[0m    client: 
    client: Inserting generated public key within guest...[0m
[0m    client: Removing insecure key from the guest if it's present...[0m
[0m    client: Key inserted! Disconnecting and reconnecting using new SSH key...[0m
[1m==> client: Machine booted and ready![0m
[1m==> client: Checking for guest additions in VM...[0m
[0m    client: No guest additions were detected on the base box for this VM! Guest
    client: additions are required for forwarded ports, shared folders, host only
    client: networking, and more. If SSH fails on this machine, please install
    client: the guest additions and repackage the box to continue.
    client: 
    client: This is not an error message; everything may continue to work properly,
    client: in which case you may ignore this message.[0m
[1m==> client: Setting hostname...[0m
[1m==> client: Configuring and enabling network interfaces...[0m
[1m==> client: Rsyncing folder: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems/ => /vagrant[0m
[1m==> client: Running provisioner: ansible...[0m
[0;33mVagrant has automatically selected the compatibility mode '2.0'
according to the Ansible version installed (2.9.6).

Alternatively, the compatibility mode can be specified in your Vagrantfile:
https://www.vagrantup.com/docs/provisioning/ansible_common.html#compatibility_mode
[0m
[0m    client: Running ansible-playbook...[0m
[0m
PLAY [all] *********************************************************************
[0m[0m
TASK [Gathering Facts] *********************************************************
[0m[0m[0;32mok: [client][0m
[0;32m[0m[0m[0m
TASK [install packages] ********************************************************
[0m[0m[0;33mchanged: [client][0m
[0;33m[0m[0m[0m
PLAY [ns01] ********************************************************************
[0;36mskipping: no hosts matched[0m
[0;36m[0m[0m[0m
PLAY [client] ******************************************************************
[0m[0m
TASK [Gathering Facts] *********************************************************
[0m^C[0m[0;31m [ERROR]: User interrupted execution[0m
[0;31m[0m[0m[1;33m==> client: Waiting for cleanup before exiting...[0m
[0;31mAnsible failed to complete successfully. Any error output should be
visible above. Please fix these errors and try again.[0m
]0;student@student-Mi-Laptop-Air-12-5: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[01;32mstudent@student-Mi-Laptop-Air-12-5[00m:[01;34m/media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[00m$ vagrant up[K[K
box            destroy        docker-run     help           login          provision      reload         rsync-auto     ssh            suspend
cloud          docker-exec    global-status  init           package        push           resume         share          ssh-config     up
connect        docker-logs    halt           list-commands  plugin         rdp            rsync          snapshot       status         version
]0;student@student-Mi-Laptop-Air-12-5: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[01;32mstudent@student-Mi-Laptop-Air-12-5[00m:[01;34m/media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[00m$ vagrant reload 
[1m==> ns01: Attempting graceful shutdown of VM...[0m
[1m==> ns01: Checking if box 'centos/7' version '2004.01' is up to date...[0m
[1m==> ns01: Clearing any previously set forwarded ports...[0m
[1m==> ns01: Fixed port collision for 22 => 2222. Now on port 2200.[0m
[1m==> ns01: Clearing any previously set network interfaces...[0m
[1m==> ns01: Preparing network interfaces based on configuration...[0m
[0m    ns01: Adapter 1: nat[0m
[0m    ns01: Adapter 2: intnet[0m
[1m==> ns01: Forwarding ports...[0m
[0m    ns01: 22 (guest) => 2200 (host) (adapter 1)[0m
[1m==> ns01: Running 'pre-boot' VM customizations...[0m
[1m==> ns01: Booting VM...[0m
[1m==> ns01: Waiting for machine to boot. This may take a few minutes...[0m
[0m    ns01: SSH address: 127.0.0.1:2200[0m
[0m    ns01: SSH username: vagrant[0m
[0m    ns01: SSH auth method: private key[0m
[1m==> ns01: Machine booted and ready![0m
[1m==> ns01: Checking for guest additions in VM...[0m
[0m    ns01: No guest additions were detected on the base box for this VM! Guest
    ns01: additions are required for forwarded ports, shared folders, host only
    ns01: networking, and more. If SSH fails on this machine, please install
    ns01: the guest additions and repackage the box to continue.
    ns01: 
    ns01: This is not an error message; everything may continue to work properly,
    ns01: in which case you may ignore this message.[0m
[1m==> ns01: Setting hostname...[0m
[1m==> ns01: Configuring and enabling network interfaces...[0m
[1m==> ns01: Rsyncing folder: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems/ => /vagrant[0m
[1m==> ns01: Machine already provisioned. Run `vagrant provision` or use the `--provision`
==> ns01: flag to force provisioning. Provisioners marked to run always will still run.[0m
[1m==> client: Attempting graceful shutdown of VM...[0m
[1m==> client: Checking if box 'centos/7' version '2004.01' is up to date...[0m
[1m==> client: Clearing any previously set forwarded ports...[0m
[1m==> client: Fixed port collision for 22 => 2222. Now on port 2201.[0m
[1m==> client: Clearing any previously set network interfaces...[0m
[1m==> client: Preparing network interfaces based on configuration...[0m
[0m    client: Adapter 1: nat[0m
[0m    client: Adapter 2: intnet[0m
[1m==> client: Forwarding ports...[0m
[0m    client: 22 (guest) => 2201 (host) (adapter 1)[0m
[1m==> client: Running 'pre-boot' VM customizations...[0m
[1m==> client: Booting VM...[0m
[1m==> client: Waiting for machine to boot. This may take a few minutes...[0m
[0m    client: SSH address: 127.0.0.1:2201[0m
[0m    client: SSH username: vagrant[0m
[0m    client: SSH auth method: private key[0m
[1m==> client: Machine booted and ready![0m
[1m==> client: Checking for guest additions in VM...[0m
[0m    client: No guest additions were detected on the base box for this VM! Guest
    client: additions are required for forwarded ports, shared folders, host only
    client: networking, and more. If SSH fails on this machine, please install
    client: the guest additions and repackage the box to continue.
    client: 
    client: This is not an error message; everything may continue to work properly,
    client: in which case you may ignore this message.[0m
[1m==> client: Setting hostname...[0m
[1m==> client: Configuring and enabling network interfaces...[0m
[1m==> client: Rsyncing folder: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems/ => /vagrant[0m
[1m==> client: Machine already provisioned. Run `vagrant provision` or use the `--provision`
==> client: flag to force provisioning. Provisioners marked to run always will still run.[0m
]0;student@student-Mi-Laptop-Air-12-5: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[01;32mstudent@student-Mi-Laptop-Air-12-5[00m:[01;34m/media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[00m$ vagrant provision 
[1m==> ns01: Running provisioner: ansible...[0m
[0;33mVagrant has automatically selected the compatibility mode '2.0'
according to the Ansible version installed (2.9.6).

Alternatively, the compatibility mode can be specified in your Vagrantfile:
https://www.vagrantup.com/docs/provisioning/ansible_common.html#compatibility_mode
[0m
[0m    ns01: Running ansible-playbook...[0m
[0m
PLAY [all] *********************************************************************
[0m[0m
TASK [Gathering Facts] *********************************************************
[0m[0m[0;32mok: [ns01][0m
[0;32m[0m[0m[0m
TASK [install packages] ********************************************************
[0m[0m[0;32mok: [ns01][0m
[0;32m[0m[0m[0m
PLAY [ns01] ********************************************************************
[0m[0m
TASK [Gathering Facts] *********************************************************
[0m[0m[0;32mok: [ns01][0m
[0;32m[0m[0m[0m
TASK [copy named.conf] *********************************************************
[0m[0m[0;32mok: [ns01][0m
[0;32m[0m[0m[0m
TASK [copy master zone dns.lab] ************************************************
[0m[0m[0;32mok: [ns01] => (item=/media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems/provisioning/files/ns01/named.dns.lab)[0m
[0;32m[0m[0m[0m[0;32mok: [ns01] => (item=/media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems/provisioning/files/ns01/named.dns.lab.view1)[0m
[0;32m[0m[0m[0m
TASK [copy dynamic zone ddns.lab] **********************************************
[0m[0m[0;32mok: [ns01][0m
[0;32m[0m[0m[0m
TASK [copy dynamic zone ddns.lab.view1] ****************************************
[0m[0m[0;32mok: [ns01][0m
[0;32m[0m[0m[0m
TASK [copy master zone newdns.lab] *********************************************
[0m[0m[0;32mok: [ns01][0m
[0;32m[0m[0m[0m
TASK [copy rev zones] **********************************************************
[0m[0m[0;32mok: [ns01][0m
[0;32m[0m[0m[0m
TASK [copy resolv.conf to server] **********************************************
[0m[0m[0;33mchanged: [ns01][0m
[0;33m[0m[0m[0m
TASK [copy transferkey to server] **********************************************
[0m[0m[0;32mok: [ns01][0m
[0;32m[0m[0m[0m
TASK [set /etc/named permissions] **********************************************
[0m[0m[0;32mok: [ns01][0m
[0;32m[0m[0m[0m
TASK [set /etc/named/dynamic permissions] **************************************
[0m[0m[0;32mok: [ns01][0m
[0;32m[0m[0m[0m
TASK [ensure named is running and enabled] *************************************
[0m[0m[0;33mchanged: [ns01][0m
[0;33m[0m[0m[0m
PLAY [client] ******************************************************************
[0;36mskipping: no hosts matched[0m
[0;36m[0m[0m[0m
PLAY RECAP *********************************************************************
[0;33mns01[0m                       : [0;32mok=14  [0m [0;33mchanged=2   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

[0m[1m==> client: Running provisioner: ansible...[0m
[0;33mVagrant has automatically selected the compatibility mode '2.0'
according to the Ansible version installed (2.9.6).

Alternatively, the compatibility mode can be specified in your Vagrantfile:
https://www.vagrantup.com/docs/provisioning/ansible_common.html#compatibility_mode
[0m
[0m    client: Running ansible-playbook...[0m
[0m
PLAY [all] *********************************************************************
[0m[0m
TASK [Gathering Facts] *********************************************************
[0m[0m[0;32mok: [client][0m
[0;32m[0m[0m[0m
TASK [install packages] ********************************************************
[0m[0m[0;32mok: [client][0m
[0;32m[0m[0m[0m
PLAY [ns01] ********************************************************************
[0;36mskipping: no hosts matched[0m
[0;36m[0m[0m[0m
PLAY [client] ******************************************************************
[0m[0m
TASK [Gathering Facts] *********************************************************
[0m[0m[0;32mok: [client][0m
[0;32m[0m[0m[0m
TASK [copy resolv.conf to the client] ******************************************
[0m[0m[0;33mchanged: [client][0m
[0;33m[0m[0m[0m
TASK [copy rndc conf file] *****************************************************
[0m[0m[0;33mchanged: [client][0m
[0;33m[0m[0m[0m
TASK [copy motd to the client] *************************************************
[0m[0m[0;33mchanged: [client][0m
[0;33m[0m[0m[0m
TASK [copy transferkey to client] **********************************************
[0m[0m[0;33mchanged: [client][0m
[0;33m[0m[0m[0m
PLAY RECAP *********************************************************************
[0;33mclient[0m                     : [0;32mok=7   [0m [0;33mchanged=4   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0m[0m
[0m]0;student@student-Mi-Laptop-Air-12-5: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[01;32mstudent@student-Mi-Laptop-Air-12-5[00m:[01;34m/media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[00m$ vagrant ssh client 
Last login: Wed May 31 17:17:30 2023 from 10.0.2.2
###############################
### Welcome to the DNS lab! ###
###############################

- Use this client to test the enviroment
- with dig or nslookup. Ex:
    dig @192.168.50.10 ns01.dns.lab

- nsupdate is available in the ddns.lab zone. Ex:
    nsupdate -k /etc/named.zonetransfer.key
    server 192.168.50.10
    zone ddns.lab 
    update add www.ddns.lab. 60 A 192.168.50.15
    send

- rndc is also available to manage the servers
    rndc -c ~/rndc.conf reload

###############################
### Enjoy! ####################
###############################
]0;vagrant@client:~[?1034h[vagrant@client ~]$ nsupdate -k /etc/named.zonetransfer.key
> server 192.168.50.10
> zone ddns.lab
> update add www.ddns.lab. 60 A 192.168.50.15
> send
update failed: SERVFAIL
> quit
]0;vagrant@client:~[vagrant@client ~]$ cat /var/log/audit/audit.log | audit2why
cat: /var/log/audit/audit.log: Permission denied
Nothing to do
]0;vagrant@client:~[vagrant@client ~]$ sudo -i
]0;root@client:~[?1034h[root@client ~]# cat /var/log/audit/audit.log | audit2why
]0;root@client:~[root@client ~]# [K[root@client ~]# exit
logout
]0;vagrant@client:~[vagrant@client ~]$ nsupdate -k /etc/named.zonetransfer.key
> server 192.168.50.10
> zone ddns.lab
> update add www.ddns.lab. 60 A 192.168.50.15
> send
> quit
]0;vagrant@client:~[vagrant@client ~]$ dig www.ddns.lab

; <<>> DiG 9.11.4-P2-RedHat-9.11.4-26.P2.el7_9.13 <<>> www.ddns.lab
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 48804
;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 1, ADDITIONAL: 2

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 4096
;; QUESTION SECTION:
;www.ddns.lab.			IN	A

;; ANSWER SECTION:
www.ddns.lab.		60	IN	A	192.168.50.15

;; AUTHORITY SECTION:
ddns.lab.		3600	IN	NS	ns01.dns.lab.

;; ADDITIONAL SECTION:
ns01.dns.lab.		3600	IN	A	192.168.50.10

;; Query time: 1 msec
;; SERVER: 192.168.50.10#53(192.168.50.10)
;; WHEN: Wed May 31 17:29:48 UTC 2023
;; MSG SIZE  rcvd: 96

]0;vagrant@client:~[vagrant@client ~]$ exit
logout
Connection to 127.0.0.1 closed.
]0;student@student-Mi-Laptop-Air-12-5: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[01;32mstudent@student-Mi-Laptop-Air-12-5[00m:[01;34m/media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[00m$ vagrant re
reload  resume  
]0;student@student-Mi-Laptop-Air-12-5: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[01;32mstudent@student-Mi-Laptop-Air-12-5[00m:[01;34m/media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[00m$ vagrant reload 
[1m==> ns01: Attempting graceful shutdown of VM...[0m
[1m==> ns01: Checking if box 'centos/7' version '2004.01' is up to date...[0m
[1m==> ns01: Clearing any previously set forwarded ports...[0m
[1m==> ns01: Fixed port collision for 22 => 2222. Now on port 2200.[0m
[1m==> ns01: Clearing any previously set network interfaces...[0m
[1m==> ns01: Preparing network interfaces based on configuration...[0m
[0m    ns01: Adapter 1: nat[0m
[0m    ns01: Adapter 2: intnet[0m
[1m==> ns01: Forwarding ports...[0m
[0m    ns01: 22 (guest) => 2200 (host) (adapter 1)[0m
[1m==> ns01: Running 'pre-boot' VM customizations...[0m
[1m==> ns01: Booting VM...[0m
[1m==> ns01: Waiting for machine to boot. This may take a few minutes...[0m
[0m    ns01: SSH address: 127.0.0.1:2200[0m
[0m    ns01: SSH username: vagrant[0m
[0m    ns01: SSH auth method: private key[0m
[1m==> ns01: Machine booted and ready![0m
[1m==> ns01: Checking for guest additions in VM...[0m
[0m    ns01: No guest additions were detected on the base box for this VM! Guest
    ns01: additions are required for forwarded ports, shared folders, host only
    ns01: networking, and more. If SSH fails on this machine, please install
    ns01: the guest additions and repackage the box to continue.
    ns01: 
    ns01: This is not an error message; everything may continue to work properly,
    ns01: in which case you may ignore this message.[0m
[1m==> ns01: Setting hostname...[0m
[1m==> ns01: Configuring and enabling network interfaces...[0m
[1m==> ns01: Rsyncing folder: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems/ => /vagrant[0m
[1m==> ns01: Machine already provisioned. Run `vagrant provision` or use the `--provision`
==> ns01: flag to force provisioning. Provisioners marked to run always will still run.[0m
[1m==> client: Attempting graceful shutdown of VM...[0m
[1m==> client: Checking if box 'centos/7' version '2004.01' is up to date...[0m
[1m==> client: Clearing any previously set forwarded ports...[0m
[1m==> client: Fixed port collision for 22 => 2222. Now on port 2201.[0m
[1m==> client: Clearing any previously set network interfaces...[0m
[1m==> client: Preparing network interfaces based on configuration...[0m
[0m    client: Adapter 1: nat[0m
[0m    client: Adapter 2: intnet[0m
[1m==> client: Forwarding ports...[0m
[0m    client: 22 (guest) => 2201 (host) (adapter 1)[0m
[1m==> client: Running 'pre-boot' VM customizations...[0m
[1m==> client: Booting VM...[0m
[1m==> client: Waiting for machine to boot. This may take a few minutes...[0m
[0m    client: SSH address: 127.0.0.1:2201[0m
[0m    client: SSH username: vagrant[0m
[0m    client: SSH auth method: private key[0m
[1m==> client: Machine booted and ready![0m
[1m==> client: Checking for guest additions in VM...[0m
[0m    client: No guest additions were detected on the base box for this VM! Guest
    client: additions are required for forwarded ports, shared folders, host only
    client: networking, and more. If SSH fails on this machine, please install
    client: the guest additions and repackage the box to continue.
    client: 
    client: This is not an error message; everything may continue to work properly,
    client: in which case you may ignore this message.[0m
[1m==> client: Setting hostname...[0m
[1m==> client: Configuring and enabling network interfaces...[0m
[1m==> client: Rsyncing folder: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems/ => /vagrant[0m
[1m==> client: Machine already provisioned. Run `vagrant provision` or use the `--provision`
==> client: flag to force provisioning. Provisioners marked to run always will still run.[0m
]0;student@student-Mi-Laptop-Air-12-5: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[01;32mstudent@student-Mi-Laptop-Air-12-5[00m:[01;34m/media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[00m$ vagrant ssh client
Last login: Wed May 31 17:18:10 2023 from 10.0.2.2
###############################
### Welcome to the DNS lab! ###
###############################

- Use this client to test the enviroment
- with dig or nslookup. Ex:
    dig @192.168.50.10 ns01.dns.lab

- nsupdate is available in the ddns.lab zone. Ex:
    nsupdate -k /etc/named.zonetransfer.key
    server 192.168.50.10
    zone ddns.lab 
    update add www.ddns.lab. 60 A 192.168.50.15
    send

- rndc is also available to manage the servers
    rndc -c ~/rndc.conf reload

###############################
### Enjoy! ####################
###############################
]0;vagrant@client:~[?1034h[vagrant@client ~]$ dig @192.168.50.10 www.ddns.lab

; <<>> DiG 9.11.4-P2-RedHat-9.11.4-26.P2.el7_9.13 <<>> @192.168.50.10 www.ddns.lab
; (1 server found)
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 34746
;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 1, ADDITIONAL: 2

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 4096
;; QUESTION SECTION:
;www.ddns.lab.			IN	A

;; ANSWER SECTION:
www.ddns.lab.		60	IN	A	192.168.50.15

;; AUTHORITY SECTION:
ddns.lab.		3600	IN	NS	ns01.dns.lab.

;; ADDITIONAL SECTION:
ns01.dns.lab.		3600	IN	A	192.168.50.10

;; Query time: 2 msec
;; SERVER: 192.168.50.10#53(192.168.50.10)
;; WHEN: Wed May 31 17:32:29 UTC 2023
;; MSG SIZE  rcvd: 96

]0;vagrant@client:~[vagrant@client ~]$ exit
logout
Connection to 127.0.0.1 closed.
]0;student@student-Mi-Laptop-Air-12-5: /media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[01;32mstudent@student-Mi-Laptop-Air-12-5[00m:[01;34m/media/student/Linux/otus/lesson17/otus-linux-adm/selinux_dns_problems[00m$ exit
exit

Script done on 2023-05-31 20:32:36+03:00 [COMMAND_EXIT_CODE="0"]
